# SPDX-License-Identifier: MIT                                                
# Copyright (c) 2021 GPUFORT Advanced Micro Devices, Inc. All rights reserved.
# configurable parameters
DISCOVER_INPUT_FILES="find {search_dir} -type f -name \"*.*\" | grep \"\.[fF]\(90\|95\|77\)\?$\" | grep -v hipified"
FILTER_INPUT_FILES="grep -l \"{module_names}\" {input_files}"

PREPROCESS_FORTRAN_FILE="gfortran -cpp -E {options} {file} | grep -v \"^# [0-9]\""

STRUCTURES=r"module|program|interface|function|routine|procedure|subroutine|type|end"
DECLARATIONS=r"integer|real|double|logical" # derived types already considered by definition
ATTRIBUTES=r"attributes" # derived types already considered by definition
DIRECTIVES=r"([!c\*]\$\w+)"
USE=r"use\b\s+"

FILTER=r"\b("+STRUCTURES+"|"+DECLARATIONS+"|"+ATTRIBUTES+"|"+DIRECTIVES+"|"+USE+r")\b"
ANTIFILTER=r"\bend\b\s+\b(do|if)\b"

PRESCAN_FILTER=r"\b("+STRUCTURES+"|"+USE+r")\b"
CONTINUATION_FILTER=r"(\&\s*\n)|(\n\s*[\!c\*]\$\w+\&)"

SCAN_SEARCH_DIRS_MAX_PROCESSES = 1 # max number of processes used for scanning files in search directories.

PRETTY_PRINT_INDEX = False # Pretty print index before writing it to disk.
