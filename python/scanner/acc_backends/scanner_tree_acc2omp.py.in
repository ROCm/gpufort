class Acc2Omp():
    def gpufortFStr(self):
        fSnippet = "".join(self._lines)
        try:
           def repl(parseResult):
                return parseResult.ompFStr(), True
           result,_ = pyparsingtools.replaceFirst(fSnippet,\
                    translator.accSimpleDirective,\
                    repl)
           return result, True 
        except Exception as e:
           print("failed: "+fSnippet) #TODO
           raise e
           return "", False 

class Acc2OmpLoopKernel():
    def gpufortFStr(self):
       fSnippet = "".join(self._lines)
       try:
          parseResult = translator.loopKernel.parseString(fSnippet)[0]
          return parseResult.ompFStr(fSnippet), True 
       except Exception as e:
          print("failed: "+fSnippet) #TODO
          raise e
          return "", False 
